// Generated by CoffeeScript 1.9.0
(function() {
  LCM.controller('BoardController', function($scope) {
    var applyCancellations, board;
    board = $scope.board = LCM.board();
    $scope.o = {
      1: 1,
      2: 2,
      3: 3
    };
    applyCancellations = $scope.applyCancellations = function() {
      var cancel, cancels, i, k, v, _i, _len, _ref, _ref1, _results;
      cancels = board.cancels();
      _results = [];
      while (cancels.length > 0) {
        cancel = cancels[0];
        _ref = cancel.row;
        for (_i = 0, _len = _ref.length; _i < _len; _i++) {
          i = _ref[_i];
          _ref1 = cancel.primes;
          for (k in _ref1) {
            v = _ref1[k];
            board.squares[i].primes[k] -= v;
          }
        }
        _results.push(cancels = board.cancels());
      }
      return _results;
    };
    return applyCancellations();
  });

}).call(this);
